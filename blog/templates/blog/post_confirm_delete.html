{% extends "blog/base.html" %}

{% block title %}Delete Post{% endblock %}

{% block content %}
  <section class="post-delete-confirm">
    <h1>Delete Post</h1>

    <p class="confirm-text" role="alert">
      Are you sure you want to delete <em>"{{ post.title }}"</em>?
      This action cannot be undone.
    </p>

    {% if post.cover_image %}
      <div class="current-image" style="margin: .5rem 0 1rem;">
        <img src="{{ post.cover_image.url }}" alt="Current cover image for {{ post.title }}" style="max-width: 260px; height: auto; border-radius: 8px;">
      </div>
    {% endif %}

    {% if post.content %}
      <blockquote class="post-preview">
        {{ post.content|striptags|truncatewords:40 }}
      </blockquote>
    {% endif %}

    <form method="post">
      {% csrf_token %}
      <div class="form-actions">
        <button type="submit" class="btn btn-danger">Yes, delete</button>
        <a href="{% url 'post_detail' post.id %}" class="btn btn-secondary">Cancel</a>
      </div>
    </form>
  </section>
{% endblock %}

