{% extends "blog/base.html" %}

{% block meta_description %}
Login to your AnimeNexus account
{% endblock %}

{% block title %}
Log In | AnimeNexus
{% endblock %}

{% block content %}
  <section class="auth-section">
    <h1>Log In</h1>

    <form method="post" class="auth-form" novalidate>
      {% csrf_token %}
      {{ form.non_field_errors }}

      {# preserva redirect se veio de ?next=... #}
      {% if request.GET.next %}
        <input type="hidden" name="next" value="{{ request.GET.next }}">
      {% endif %}

      <div class="form-group">
        {{ form.username.label_tag }}
        {{ form.username }}   {# sem as_widget extra #}
        {{ form.username.errors }}
      </div>

      <div class="form-group">
        {{ form.password.label_tag }}
        {{ form.password }}   {# sem as_widget extra #}
        {{ form.password.errors }}
      </div>

      <div class="form-actions">
        <button type="submit" class="btn btn-primary">Log In</button>
      </div>
    </form>

    <p class="auth-switch">
      Donâ€™t have an account?
      <a href="{% url 'signup' %}{% if request.GET.next %}?next={{ request.GET.next|urlencode }}{% endif %}">
        Sign up here
      </a>
    </p>
  </section>
{% endblock %}
