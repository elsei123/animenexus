{% load static %}

<article class="post-card">
  <a href="{% url 'post_detail' post.id %}" class="post-card__image-link">
    {% if post.cover_image %}
      <img src="{{ post.cover_image.url }}" alt="Cover for {{ post.title }}" class="post-card__image">
    {% else %}
      <img src="{% static 'blog/images/default_cover.jpg' %}" alt="Default cover" class="post-card__image">
    {% endif %}
  </a>

  <div class="post-card__content">
    <h2 class="post-card__title">
      <a href="{% url 'post_detail' post.id %}">{{ post.title }}</a>
    </h2>

    <p class="post-card__excerpt">
      {{ post.content|truncatewords:20 }}
    </p>

    <div class="post-card__meta">
      by <a href="{% url 'profile' %}" class="post-card__author">{{ post.author.username }}</a>
      &bull;
      <time datetime="{{ post.created_at|date:'Y-m-d' }}">{{ post.created_at|date:"d M Y" }}</time>
    </div>
  </div>
</article>
